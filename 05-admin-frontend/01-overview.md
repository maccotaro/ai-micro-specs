# Admin Frontend æ¦‚è¦

**ã‚«ãƒ†ã‚´ãƒª**: Frontend Service (BFF Pattern)
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0
**æœ€çµ‚æ›´æ–°**: 2025-09-30

## ç›®æ¬¡
- [ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦](#ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦)
- [è²¬å‹™ã¨å½¹å‰²](#è²¬å‹™ã¨å½¹å‰²)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ä¸»è¦æ©Ÿèƒ½](#ä¸»è¦æ©Ÿèƒ½)
- [é–¢é€£ã‚µãƒ¼ãƒ“ã‚¹](#é–¢é€£ã‚µãƒ¼ãƒ“ã‚¹)

---

## ã‚µãƒ¼ãƒ“ã‚¹æ¦‚è¦

Admin Frontend (`ai-micro-front-admin`) ã¯ã€ç®¡ç†è€…å‘ã‘ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚Next.jsã‚’ä½¿ç”¨ã—ãŸBFFï¼ˆBackend for Frontendï¼‰ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨ã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ã€OCRèª¿æ•´ã€ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ç®¡ç†ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ãªã©ã®ç®¡ç†æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚

### åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ã‚µãƒ¼ãƒ“ã‚¹å | Admin Frontend (BFF) |
| ãƒªãƒã‚¸ãƒˆãƒª | `ai-micro-front-admin/` |
| ã‚³ãƒ³ãƒ†ãƒŠå | `ai-micro-front-admin` |
| ãƒãƒ¼ãƒˆ | 3003 (å¤–éƒ¨) â†’ 3000 (å†…éƒ¨) |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | Next.js 15 |
| è¨€èª | TypeScript |
| UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª | shadcn/ui (Radix UI + Tailwind CSS) |
| ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« | Next.jsæ¨™æº–ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  |

---

## è²¬å‹™ã¨å½¹å‰²

### ä¸»è¦è²¬å‹™

1. **ç®¡ç†è€…ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹æä¾›**
   - ç®¡ç†è€…ç”¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†ç”»é¢
   - OCRçµæœèª¿æ•´ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹
   - ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ç®¡ç†
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
   - ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–ãƒ»ãƒ­ã‚°é–²è¦§

2. **BFFå±¤ï¼ˆAPIãƒ—ãƒ­ã‚­ã‚·ï¼‰**
   - èªè¨¼ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ—ãƒ­ã‚­ã‚·
   - User APIã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ—ãƒ­ã‚­ã‚·
   - Admin APIã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ—ãƒ­ã‚­ã‚·
   - JWTãƒˆãƒ¼ã‚¯ãƒ³ã®Cookieç®¡ç†
   - ç®¡ç†è€…æ¨©é™ã®æ¤œè¨¼

3. **é«˜åº¦ãªUIæ©Ÿèƒ½**
   - OCRã‚­ãƒ£ãƒ³ãƒã‚¹ç·¨é›†ï¼ˆãƒ‰ãƒ©ãƒƒã‚°ã€ãƒªã‚µã‚¤ã‚ºã€æ–°è¦çŸ©å½¢ä½œæˆï¼‰
   - éšå±¤æ§‹é€ ãƒ„ãƒªãƒ¼è¡¨ç¤º
   - ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°ãƒãƒ£ãƒƒãƒˆ
   - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†çŠ¶æ…‹è¡¨ç¤º

4. **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å®Ÿè£…**
   - ç®¡ç†è€…ãƒ­ãƒ¼ãƒ«æ¤œè¨¼
   - httpOnly Cookieã«ã‚ˆã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ä¿è­·
   - æ“ä½œãƒ­ã‚°è¨˜éŒ²
   - CSRFä¿è­·

### è²¬å‹™ç¯„å›²å¤–

- ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘æ©Ÿèƒ½ï¼ˆUser Frontendã®è²¬å‹™ï¼‰
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆAdmin API Serviceã®è²¬å‹™ï¼‰
- èªè¨¼å‡¦ç†æœ¬ä½“ï¼ˆAuth Serviceã®è²¬å‹™ï¼‰

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚µãƒ¼ãƒ“ã‚¹ä½ç½®ä»˜ã‘

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Admin Frontend (Port 3003)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Pages (UI)    â”‚  â”‚  API Routes (BFF)              â”‚ â”‚
â”‚  â”‚  - /login      â”‚  â”‚  - /api/auth/*                 â”‚ â”‚
â”‚  â”‚  - /dashboard  â”‚  â”‚  - /api/users/*                â”‚ â”‚
â”‚  â”‚  - /documents  â”‚  â”‚  - /api/documents/*            â”‚ â”‚
â”‚  â”‚  - /documents/ â”‚  â”‚  - /api/knowledgebase/*        â”‚ â”‚
â”‚  â”‚    ocr/[id]    â”‚  â”‚  - /api/admin/*                â”‚ â”‚
â”‚  â”‚  - /users      â”‚  â”‚  - /api/health                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚           â”‚                   â”‚                          â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚ HTTP/REST
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚            â”‚            â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
   â”‚Auth      â”‚ â”‚User API â”‚ â”‚Admin API â”‚ â”‚Postgres  â”‚
   â”‚Service   â”‚ â”‚Service  â”‚ â”‚Service   â”‚ â”‚(admindb) â”‚
   â”‚(8002)    â”‚ â”‚(8001)   â”‚ â”‚(8003)    â”‚ â”‚          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### BFFãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè£…

Admin Frontendã¯ã€Next.jsã®æ©Ÿèƒ½ã‚’æ´»ç”¨ã—ã¦BFFãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ï¼š

1. **Pages Router**: ç®¡ç†è€…å‘ã‘UIãƒšãƒ¼ã‚¸
   - Server-side rendering (SSR) å¯¾å¿œ
   - ãƒ•ã‚¡ã‚¤ãƒ«ãƒ™ãƒ¼ã‚¹ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
   - TypeScriptã«ã‚ˆã‚‹å‹å®‰å…¨æ€§
   - shadcn/uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨

2. **API Routes**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ—ãƒ­ã‚­ã‚·å±¤
   - `/api/*` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
   - ç®¡ç†è€…æ¨©é™æ¤œè¨¼
   - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆè»¢é€
   - Cookieæ“ä½œã¨ãƒˆãƒ¼ã‚¯ãƒ³ç®¡ç†

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
ai-micro-front-admin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/                       # Next.js Pages Router
â”‚   â”‚   â”œâ”€â”€ _app.tsx                # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”‚   â”‚   â”œâ”€â”€ index.tsx               # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”œâ”€â”€ login.tsx               # ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³
â”‚   â”‚   â”œâ”€â”€ dashboard/              # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ users/                  # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ documents/              # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx           # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§
â”‚   â”‚   â”‚   â”œâ”€â”€ new.tsx             # æ–°è¦ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/               # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè©³ç´°
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ edit.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ocr/                # OCRèª¿æ•´
â”‚   â”‚   â”‚       â””â”€â”€ [id].tsx        # OCRç·¨é›†ç”»é¢
â”‚   â”‚   â”œâ”€â”€ knowledgebase/          # ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx           # ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä¸€è¦§
â”‚   â”‚   â”‚   â”œâ”€â”€ new.tsx             # æ–°è¦ä½œæˆ
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â”œâ”€â”€ edit.tsx        # ç·¨é›†
â”‚   â”‚   â”‚       â”œâ”€â”€ chat.tsx        # ãƒãƒ£ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
â”‚   â”‚   â”‚       â””â”€â”€ documents/
â”‚   â”‚   â”‚           â””â”€â”€ new.tsx     # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¿½åŠ 
â”‚   â”‚   â”œâ”€â”€ prompt-templates/       # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ new.tsx
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â””â”€â”€ edit.tsx
â”‚   â”‚   â”œâ”€â”€ monitoring/             # ã‚·ã‚¹ãƒ†ãƒ ç›£è¦–
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ logs/                   # ãƒ­ã‚°é–²è¦§
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ reports/                # ãƒ¬ãƒãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”œâ”€â”€ settings/               # è¨­å®š
â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â””â”€â”€ api/                    # API Routes (BFFå±¤)
â”‚   â”‚       â”œâ”€â”€ auth/               # èªè¨¼API
â”‚   â”‚       â”‚   â”œâ”€â”€ login.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ logout.ts
â”‚   â”‚       â”‚   â””â”€â”€ me.ts
â”‚   â”‚       â”œâ”€â”€ users/              # ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†API
â”‚   â”‚       â”‚   â””â”€â”€ [...path].ts    # å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ
â”‚   â”‚       â”œâ”€â”€ documents/          # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç†API
â”‚   â”‚       â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚       â”‚   â”œâ”€â”€ [id]/
â”‚   â”‚       â”‚   â”‚   â”œâ”€â”€ metadata.ts
â”‚   â”‚       â”‚   â”‚   â””â”€â”€ ocr.ts
â”‚   â”‚       â”‚   â””â”€â”€ stats.ts
â”‚   â”‚       â”œâ”€â”€ knowledgebase/      # ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹API
â”‚   â”‚       â”‚   â””â”€â”€ [...path].ts
â”‚   â”‚       â”œâ”€â”€ prompt-templates/   # ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆAPI
â”‚   â”‚       â”‚   â””â”€â”€ [...path].ts
â”‚   â”‚       â”œâ”€â”€ admin/              # ç®¡ç†API
â”‚   â”‚       â”‚   â”œâ”€â”€ stats.ts
â”‚   â”‚       â”‚   â””â”€â”€ health.ts
â”‚   â”‚       â””â”€â”€ health.ts
â”‚   â”œâ”€â”€ components/                 # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ ui/                     # shadcn/uiåŸºæœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ select.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ Layout/                 # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.tsx          # ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx         # ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx          # ãƒ˜ãƒƒãƒ€ãƒ¼
â”‚   â”‚   â”‚   â””â”€â”€ ErrorBoundary.tsx
â”‚   â”‚   â”œâ”€â”€ Charts/                 # ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒãƒ£ãƒ¼ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ LineChart.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DoughnutChart.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StatCard.tsx
â”‚   â”‚   â”œâ”€â”€ Tables/                 # ãƒ†ãƒ¼ãƒ–ãƒ«
â”‚   â”‚   â”‚   â””â”€â”€ UserTable.tsx
â”‚   â”‚   â”œâ”€â”€ Forms/                  # ãƒ•ã‚©ãƒ¼ãƒ 
â”‚   â”‚   â”‚   â”œâ”€â”€ UserEditModal.tsx
â”‚   â”‚   â”‚   â””â”€â”€ InitialSetupForm.tsx
â”‚   â”‚   â”œâ”€â”€ OCREditor/              # OCRç·¨é›†ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentPreviewCanvas.tsx   # ã‚­ãƒ£ãƒ³ãƒã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentStructureSidebar.tsx # éšå±¤ãƒ„ãƒªãƒ¼
â”‚   â”‚   â”‚   â”œâ”€â”€ OCRTextEditor.tsx           # ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†
â”‚   â”‚   â”‚   â”œâ”€â”€ PageListSidebar.tsx         # ãƒšãƒ¼ã‚¸ä¸€è¦§
â”‚   â”‚   â”‚   â””â”€â”€ OCRErrorPage.tsx
â”‚   â”‚   â”œâ”€â”€ documents/              # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆé–¢é€£
â”‚   â”‚   â”‚   â””â”€â”€ DocumentDeleteDialog.tsx
â”‚   â”‚   â”œâ”€â”€ chat/                   # ãƒãƒ£ãƒƒãƒˆé–¢é€£
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatSettings.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ DocumentReferences.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ChunkDetailModal.tsx
â”‚   â”‚   â”œâ”€â”€ ImageHoverPreview.tsx   # ç”»åƒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
â”‚   â”‚   â””â”€â”€ CroppedImageModal.tsx   # ç”»åƒãƒ¢ãƒ¼ãƒ€ãƒ«
â”‚   â”œâ”€â”€ hooks/                      # ã‚«ã‚¹ã‚¿ãƒ Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.tsx             # èªè¨¼ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ useCoordinateSystem.ts  # OCRåº§æ¨™å¤‰æ›
â”‚   â”‚   â”œâ”€â”€ useMetadataOperations.ts # ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ“ä½œ
â”‚   â”‚   â”œâ”€â”€ useDocumentDelete.ts    # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‰Šé™¤
â”‚   â”‚   â””â”€â”€ usePageNavigation.ts    # ãƒšãƒ¼ã‚¸ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ lib/                        # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”‚   â”œâ”€â”€ auth.ts                 # èªè¨¼ãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â”‚   â”œâ”€â”€ api.ts                  # APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ utils.ts                # æ±ç”¨ãƒ˜ãƒ«ãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ types/                      # å‹å®šç¾©
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ user.ts
â”‚   â”‚   â”œâ”€â”€ knowledgebase.ts
â”‚   â”‚   â””â”€â”€ document.ts
â”‚   â””â”€â”€ styles/                     # ã‚¹ã‚¿ã‚¤ãƒ«
â”‚       â””â”€â”€ globals.css             # Tailwind CSS
â”œâ”€â”€ public/                          # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.js
â”œâ”€â”€ components.json                 # shadcn/uiè¨­å®š
â”œâ”€â”€ next.config.js
â”œâ”€â”€ CLAUDE.md
â””â”€â”€ .env.local                      # ç’°å¢ƒå¤‰æ•°
```

---

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ã‚³ã‚¢æŠ€è¡“

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ç”¨é€” |
|---------|------|-----------|------|
| Framework | Next.js | 15.0+ | Reactãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€SSRã€APIãƒ«ãƒ¼ãƒˆ |
| Language | TypeScript | 5.0+ | å‹å®‰å…¨ãªé–‹ç™º |
| UI Library | React | 18.0+ | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ |
| UI Components | shadcn/ui | Latest | Radix UI + Tailwind CSSãƒ™ãƒ¼ã‚¹ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
| Styling | Tailwind CSS | 3.4+ | ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆCSS |
| Icons | Lucide React | 0.539+ | ã‚¢ã‚¤ã‚³ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒª |
| Charts | Chart.js + react-chartjs-2 | 4.4+ / 5.2+ | ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒãƒ£ãƒ¼ãƒˆ |
| Container | Docker | - | ã‚³ãƒ³ãƒ†ãƒŠåŒ– |

### ä¸»è¦ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒª

```json
{
  "dependencies": {
    "next": "^15.0.0",
    "react": "^18.0.0",
    "react-dom": "^18.0.0",
    "@radix-ui/react-dialog": "^1.1.14",
    "@radix-ui/react-dropdown-menu": "^2.1.15",
    "@radix-ui/react-select": "^2.2.5",
    "@radix-ui/react-tabs": "^1.1.12",
    "@radix-ui/react-toast": "^1.2.14",
    "lucide-react": "^0.539.0",
    "chart.js": "^4.4.0",
    "react-chartjs-2": "^5.2.0",
    "cookie": "^0.6.0",
    "jsonwebtoken": "^9.0.0",
    "react-hook-form": "^7.47.0",
    "zod": "^3.22.0",
    "swr": "^2.2.0",
    "date-fns": "^3.6.0",
    "class-variance-authority": "^0.7.1",
    "clsx": "^2.1.1",
    "tailwind-merge": "^2.6.0"
  },
  "devDependencies": {
    "@types/node": "^20.0.0",
    "@types/react": "^18.0.0",
    "@types/cookie": "^0.6.0",
    "@types/jsonwebtoken": "^9.0.0",
    "typescript": "^5.0.0",
    "tailwindcss": "^3.4.0",
    "@tailwindcss/forms": "^0.5.10",
    "@tailwindcss/typography": "^0.5.16",
    "autoprefixer": "^10.4.0",
    "postcss": "^8.4.0",
    "eslint": "^8.0.0",
    "eslint-config-next": "^15.0.0"
  }
}
```

### shadcn/ui ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

Admin Frontendã§ã¯ã€ä»¥ä¸‹ã®shadcn/uiã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ï¼š

- **button** - ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **card** - ã‚«ãƒ¼ãƒ‰ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **input** - å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
- **dialog** - ãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- **alert-dialog** - ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
- **select** - ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹
- **checkbox** - ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
- **tabs** - ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ
- **toast** - é€šçŸ¥ãƒˆãƒ¼ã‚¹ãƒˆ
- **tooltip** - ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—
- **dropdown-menu** - ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼
- **label** - ãƒ•ã‚©ãƒ¼ãƒ ãƒ©ãƒ™ãƒ«
- **table** - ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ«
- **badge** - ãƒãƒƒã‚¸
- **textarea** - ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢
- **slider** - ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼
- **alert** - ã‚¢ãƒ©ãƒ¼ãƒˆè¡¨ç¤º

---

## ä¸»è¦æ©Ÿèƒ½

### 1. ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ (`/` or `/dashboard`)

**æ©Ÿèƒ½**:
- ã‚·ã‚¹ãƒ†ãƒ çµ±è¨ˆè¡¨ç¤ºï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•°ã€å‡¦ç†çŠ¶æ³ï¼‰
- ãƒãƒ£ãƒ¼ãƒˆè¡¨ç¤ºï¼ˆLine Chart, Doughnut Chartï¼‰
- æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£
- ã‚·ã‚¹ãƒ†ãƒ ãƒ˜ãƒ«ã‚¹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

### 2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç®¡ç† (`/documents`)

**æ©Ÿèƒ½**:
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§è¡¨ç¤º
- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼ˆã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã€ã‚¿ã‚¤ãƒ—ã€ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ï¼‰
- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‰Šé™¤
- OCRèª¿æ•´ç”»é¢ã¸ã®é·ç§»

**çµ±è¨ˆã‚«ãƒ¼ãƒ‰**:
- ç·ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•°
- å‡¦ç†çŠ¶æ…‹åˆ¥ä»¶æ•°ï¼ˆuploaded, processing, processed, failedï¼‰
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ä½¿ç”¨é‡

### 3. OCRèª¿æ•´ç”»é¢ (`/documents/ocr/[id]`)

**é‡è¦æ©Ÿèƒ½**: Admin Frontendã®ä¸­æ ¸æ©Ÿèƒ½

**ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Header: [â† Back] Document Name        [Save] [Cancel]  â”‚
â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Page â”‚ Structure    â”‚ Canvas (Image + Rectangles)        â”‚
â”‚List â”‚ Tree         â”‚                                    â”‚
â”‚     â”‚              â”‚  - Rectangle Display               â”‚
â”‚ [1] â”‚ â”œâ”€ ID-1      â”‚  - Selection                       â”‚
â”‚ [2] â”‚ â”‚   Text     â”‚  - Drag & Move                     â”‚
â”‚ [3] â”‚ â””â”€ ID-2      â”‚  - Resize                          â”‚
â”‚     â”‚     Table    â”‚  - New Rectangle Drawing           â”‚
â”‚     â”‚     â”œâ”€ ID-3  â”‚  - Action Menu (OCR/Delete)        â”‚
â”‚     â”‚     â””â”€ ID-4  â”‚                                    â”‚
â”‚     â”‚              â”‚  [Zoom: 100%] [Page 1/10]          â”‚
â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                    â”‚
â”‚     â”‚ Text Editor  â”‚                                    â”‚
â”‚     â”‚ ID-1         â”‚                                    â”‚
â”‚     â”‚ Type: text   â”‚                                    â”‚
â”‚     â”‚ [Text...]    â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸»è¦æ©Ÿèƒ½**:
1. **ãƒšãƒ¼ã‚¸ä¸€è¦§ã‚µã‚¤ãƒ‰ãƒãƒ¼** (`PageListSidebar`)
   - ãƒšãƒ¼ã‚¸ã‚µãƒ ãƒã‚¤ãƒ«è¡¨ç¤º
   - ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆ

2. **éšå±¤æ§‹é€ ã‚µã‚¤ãƒ‰ãƒãƒ¼** (`DocumentStructureSidebar`)
   - æ–‡æ›¸æ§‹é€ ã®ãƒ„ãƒªãƒ¼è¡¨ç¤º
   - è¦ç´ é¸æŠæ©Ÿèƒ½
   - éšå±¤ãƒ¬ãƒ™ãƒ«è¡¨ç¤º

3. **ã‚­ãƒ£ãƒ³ãƒã‚¹** (`DocumentPreviewCanvas`)
   - ç”»åƒè¡¨ç¤ºï¼ˆ144 DPIï¼‰
   - OCRçŸ©å½¢ã®è¡¨ç¤ºãƒ»é¸æŠ
   - ãƒ‰ãƒ©ãƒƒã‚°ã«ã‚ˆã‚‹ç§»å‹•
   - ãƒªã‚µã‚¤ã‚ºãƒãƒ³ãƒ‰ãƒ«
   - æ–°è¦çŸ©å½¢æç”»ï¼ˆèƒŒæ™¯ã‚¯ãƒªãƒƒã‚¯â†’ãƒ‰ãƒ©ãƒƒã‚°ï¼‰
   - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆOCRå®Ÿè¡Œã€å‰Šé™¤ï¼‰
   - ã‚ºãƒ¼ãƒ æ©Ÿèƒ½ï¼ˆ50%ã€œ300%ï¼‰

4. **ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†ã‚¨ãƒªã‚¢** (`OCRTextEditor`)
   - é¸æŠè¦ç´ ã®ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†
   - è¦ç´ ã‚¿ã‚¤ãƒ—é¸æŠï¼ˆDocLayNet 12ã‚¯ãƒ©ã‚¹ï¼‰
   - ãƒ†ãƒ¼ãƒ–ãƒ«æƒ…å ±ç·¨é›†ï¼ˆtable_cellã®å ´åˆï¼‰

**åº§æ¨™ç³»**:
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: 72 DPIåŸºæº–ã®åº§æ¨™
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: `rectangleScale = 2.0` ã§144 DPIç”»åƒã«å¯¾å¿œ
- è©³ç´°ã¯ `CLAUDE.md` ã®ã€ŒOCRåº§æ¨™ç³»å¤‰æ›ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³å‚ç…§

### 4. ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ç®¡ç† (`/knowledgebase`)

**æ©Ÿèƒ½**:
- ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ä¸€è¦§
- æ–°è¦ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç´ä»˜ã‘
- ãƒãƒ£ãƒƒãƒˆãƒ†ã‚¹ãƒˆæ©Ÿèƒ½
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆè¨­å®š

### 5. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç† (`/users`)

**æ©Ÿèƒ½**:
- å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§è¡¨ç¤º
- ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°è¡¨ç¤º
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·¨é›†ï¼ˆãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ã€ãƒ­ãƒ¼ãƒ«ï¼‰
- ãƒ¦ãƒ¼ã‚¶ãƒ¼å‰Šé™¤
- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°

### 6. ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆç®¡ç† (`/prompt-templates`)

**æ©Ÿèƒ½**:
- ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä¸€è¦§
- æ–°è¦ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤
- å¤‰æ•°ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å¯¾å¿œ

### 7. ã‚·ã‚¹ãƒ†ãƒ ç›£è¦– (`/monitoring`)

**æ©Ÿèƒ½**:
- ã‚µãƒ¼ãƒ“ã‚¹ãƒ˜ãƒ«ã‚¹çŠ¶æ…‹
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šçŠ¶æ…‹
- Redisæ¥ç¶šçŠ¶æ…‹
- APIå¿œç­”æ™‚é–“

### 8. ãƒ­ã‚°é–²è¦§ (`/logs`)

**æ©Ÿèƒ½**:
- ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°è¡¨ç¤º
- ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°è¡¨ç¤º
- ã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°è¡¨ç¤º
- ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ»æ¤œç´¢

---

## é–¢é€£ã‚µãƒ¼ãƒ“ã‚¹

### ä¾å­˜ã‚µãƒ¼ãƒ“ã‚¹

| ã‚µãƒ¼ãƒ“ã‚¹ | ä¾å­˜ç†ç”± | æ¥ç¶šå…ˆ |
|---------|---------|-------|
| Auth Service | ç®¡ç†è€…èªè¨¼ã€JWTç™ºè¡Œ | `http://host.docker.internal:8002` |
| User API Service | ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ç®¡ç† | `http://host.docker.internal:8001` |
| Admin API Service | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†ã€OCRã€ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ | `http://host.docker.internal:8003` |

### ã‚µãƒ¼ãƒ“ã‚¹é–“é€šä¿¡ãƒ•ãƒ­ãƒ¼

1. **ç®¡ç†è€…ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼**
   ```
   Admin Browser â†’ Admin Frontend (/login)
                 â†’ Admin Frontend BFF (/api/auth/login)
                 â†’ Auth Service (admin role validation)
                 â† JWT tokens (with admin role)
   Admin Frontend BFF â† Set httpOnly cookies
   Admin Browser â† Redirect to /dashboard
   ```

2. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†ãƒ•ãƒ­ãƒ¼**
   ```
   Admin Browser â†’ Upload document
                 â†’ Admin Frontend BFF (/api/documents)
                 â†’ Admin API Service (POST /documents)
                 â†’ Docling processing
                 â†’ PostgreSQL (admindb)
                 â† Processing status
   Admin Browser â† Redirect to /documents
   ```

3. **OCRèª¿æ•´ãƒ•ãƒ­ãƒ¼**
   ```
   Admin Browser â†’ Open OCR page (/documents/ocr/[id])
                 â†’ Fetch metadata (/api/documents/[id]/metadata)
                 â†’ Admin API Service
                 â† Document metadata + hierarchical_elements
   Admin Browser â†’ Display canvas + edit
                 â†’ Save changes (/api/documents/[id]/metadata)
                 â†’ Admin API Service
                 â†’ Update PostgreSQL
   ```

---

## ç’°å¢ƒå¤‰æ•°

### å¿…é ˆè¨­å®š

```env
# Backend Service URLs
AUTH_SERVER_URL=http://host.docker.internal:8002
API_SERVER_URL=http://host.docker.internal:8001
ADMIN_API_URL=http://host.docker.internal:8003

# Cookie Configuration
ACCESS_TOKEN_COOKIE_NAME=access_token
REFRESH_TOKEN_COOKIE_NAME=refresh_token

# JWT Configuration
JWT_SECRET=your-jwt-secret-key-change-in-production

# Next.js Configuration
NEXTAUTH_SECRET=your-nextauth-secret
NODE_ENV=development
```

---

## èµ·å‹•æ–¹æ³•

### Docker Composeä½¿ç”¨ï¼ˆæ¨å¥¨ï¼‰

```bash
cd ai-micro-front-admin
docker compose up -d

# ãƒ­ã‚°ç¢ºèª
docker compose logs -f ai-micro-front-admin

# ã‚µãƒ¼ãƒ“ã‚¹ç¢ºèª
curl http://localhost:3003
curl http://localhost:3003/api/health
```

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

```bash
cd ai-micro-front-admin

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run dev

# ãƒ“ãƒ«ãƒ‰
npm run build

# æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼èµ·å‹•
npm run start

# å‹ãƒã‚§ãƒƒã‚¯
npm run type-check

# ãƒªãƒ³ãƒˆ
npm run lint
```

ã‚¢ã‚¯ã‚»ã‚¹URL: http://localhost:3003

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

### ç®¡ç†è€…æ¨©é™æ¤œè¨¼

```typescript
// hooks/useAuth.tsx
export function useAuth() {
  const hasRole = (role: string) => {
    return user?.roles?.includes(role) || false;
  };

  return {
    user,
    isAuthenticated,
    hasRole,
    isSuperAdmin: hasRole('super_admin'),
    isAdmin: hasRole('admin')
  };
}

// ãƒšãƒ¼ã‚¸ã§ã®ä½¿ç”¨ä¾‹
export default function AdminPage() {
  const { hasRole } = useAuth();

  if (!hasRole('admin')) {
    return <div>Access denied</div>;
  }

  // ç®¡ç†è€…æ©Ÿèƒ½ã‚’è¡¨ç¤º
}
```

### Cookieè¨­å®š

User Frontendã¨åŒæ§˜ã®httpOnly Cookieè¨­å®šã‚’ä½¿ç”¨ã€‚

---

## ãƒ†ã‚¹ãƒˆèªè¨¼æƒ…å ±

**é‡è¦**: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆæ™‚ã¯ä»¥ä¸‹ã®èªè¨¼æƒ…å ±ã‚’ä½¿ç”¨ï¼š

```
Email: maccotaro@gmail.com
Password: YK@4TAtTGwcijmW
Role: super_admin
```

**ãƒ†ã‚¹ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**:
```bash
# 1. ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦Cookieã‚’ä¿å­˜
curl -s -c /tmp/admin-cookies.txt -X POST "http://localhost:3003/api/auth/login" \
  -H "Content-Type: application/json" \
  -d '{"email":"maccotaro@gmail.com","password":"YK@4TAtTGwcijmW"}'

# 2. ä¿å­˜ã—ãŸCookieã§èªè¨¼æ¸ˆã¿ãƒªã‚¯ã‚¨ã‚¹ãƒˆ
curl -s -b /tmp/admin-cookies.txt "http://localhost:3003/api/documents"
curl -s -b /tmp/admin-cookies.txt "http://localhost:3003/api/users"
```

---

## é‡è¦ãªä¿®æ­£å±¥æ­´

### ğŸ“‹ éšå±¤æ§‹é€ IDè¡¨ç¤ºã®ä¿®æ­£ (2025-09-02)

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®æ–‡æ›¸å…¨ä½“é€šã—ç•ªå·IDã‚’æ­£ã—ãè¡¨ç¤ºã™ã‚‹ã‚ˆã†ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®IDç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ã‚’ä¿®æ­£ã€‚

**è©³ç´°**: `CLAUDE.md` line 425-462å‚ç…§

### ğŸ“‹ éšå±¤æ§‹é€ ãƒ†ãƒ¼ãƒ–ãƒ«ã‚»ãƒ«ç·¨é›†å•é¡Œã®ä¿®æ­£ (2025-09-17)

éšå±¤æ§‹é€ ã‚’æŒã¤è¦ç´ ï¼ˆç‰¹ã«ãƒ†ãƒ¼ãƒ–ãƒ«ã‚»ãƒ«ï¼‰ã®ãƒ†ã‚­ã‚¹ãƒˆç·¨é›†å†…å®¹ãŒä¿å­˜ã•ã‚Œãªã„å•é¡Œã‚’ä¿®æ­£ã€‚

**è©³ç´°**: `CLAUDE.md` line 653-722å‚ç…§

---

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ç”»åƒèª­ã¿è¾¼ã¿æœ€é©åŒ–

- Next.js Image ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½¿ç”¨
- é…å»¶èª­ã¿è¾¼ã¿
- é©åˆ‡ãªã‚µã‚¤ã‚ºã§ã®é…ä¿¡

### ã‚³ãƒ¼ãƒ‰åˆ†å‰²

- ãƒšãƒ¼ã‚¸ãƒ™ãƒ¼ã‚¹ã®è‡ªå‹•ã‚³ãƒ¼ãƒ‰åˆ†å‰²
- å‹•çš„ã‚¤ãƒ³ãƒãƒ¼ãƒˆä½¿ç”¨

### ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥

- SWRä½¿ç”¨ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒ
- ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®Redisã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨

---

## ä»Šå¾Œã®æ‹¡å¼µäºˆå®š

- [ ] ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†é€²æ—è¡¨ç¤º
- [ ] ä¸€æ‹¬ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ“ä½œ
- [ ] é«˜åº¦ãªãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿
- [ ] è©³ç´°ãªã‚¢ã‚¯ã‚»ã‚¹ãƒ­ã‚°åˆ†æ
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [User Frontend æ¦‚è¦](../04-user-frontend/01-overview.md)
- [Admin API Service](/03-admin-api/01-overview.md)
- [OCRå‡¦ç†è©³ç´°](/03-admin-api/04-ocr-processing.md)
- [ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](/00-overview/01-system-architecture.md)